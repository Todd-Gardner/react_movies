(this.webpackJsonpreact_movies=this.webpackJsonpreact_movies||[]).push([[0],{17:function(e,t,c){},31:function(e,t,c){"use strict";c.r(t);var a=c(1),n=c.n(a),s=c(11),i=c.n(s),r=(c(17),c(3)),o=c.n(r),l=c(7),u=c(4),d=c(2),j=c(0),v=function(e){var t,c=e.title,n=e.poster_path,s=e.overview,i=e.vote_average,r=e.release_date,l=e.id,v=e.API_KEY,f=e.setMovieData,h=e.openModal,b=Object(a.useState)([]),p=Object(d.a)(b,2),m=p[0],O=p[1],x=function(){var e=Object(u.a)(o.a.mark((function e(t,c){var a,n,s;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a="https://api.themoviedb.org/3/movie/".concat(t,"?api_key=").concat(c,"&append_to_response=videos,credits"),e.next=3,fetch(a);case 3:return n=e.sent,e.next=6,n.json();case 6:s=e.sent,console.log("movieData",s),O(s),f(s),h(m.id);case 11:case"end":return e.stop()}}),e)})));return function(t,c){return e.apply(this,arguments)}}();return Object(j.jsx)("div",{className:"movieCard",onClick:function(){x(l,v)},children:Object(j.jsxs)("div",{className:"movie",children:[Object(j.jsx)("img",{src:n?"https://image.tmdb.org/t/p/w1280"+n:"https://images.unsplash.com/photo-1533488765986-dfa2a9939acd?ixid=MXwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHw%3D&ixlib=rb-1.2.1&auto=format&fit=crop&w=967&q=80",alt:c}),Object(j.jsxs)("div",{className:"movieInfo",children:[Object(j.jsxs)("h3",{children:[c,"(",r.substring(0,4),")"]}),Object(j.jsx)("span",{className:"tag ".concat((t=i,t>=7.5?"green":t>=5?"yellow":"red")),children:i})]}),Object(j.jsxs)("div",{className:"movieOverview",children:[Object(j.jsxs)("h2",{children:[c," Overview:"]}),Object(j.jsx)("p",{children:s}),Object(j.jsx)("button",{onClick:function(){},children:"Movie Details + Trailer"})]})]})})},f=c(12),h=c.n(f),b=function(e){var t=e.videoKey;return Object(j.jsx)("div",{className:"video",children:Object(j.jsx)(h.a,{className:"videoPlayer",url:"".concat("https://www.youtube.com/watch?v=").concat(t)})})},p=function(e){var t=e.credits,c=e.videos,n=e.title,s=e.overview,i=e.releaseDate,r=e.poster_path,o="https://image.tmdb.org/t/p/w1280",l=Object(a.useState)(),u=Object(d.a)(l,2),v=u[0],f=u[1],h=Object(a.useState)(),p=Object(d.a)(h,2),m=p[0],O=p[1];return Object(a.useEffect)((function(){if(t.cast.length>0){var e=t.cast;console.log("cast",e);var a=[];e.forEach((function(e){if(a.length<10){var t={id:e.id,name:e.name,character:e.character,profilePic:e.profile_path};a.push(t)}})),f(a)}if(c.results.length>0){var n=c.results.find((function(e,t){return"YouTube"===e.site&&"Trailer"===e.type})).key;O(n)}else O("")}),[t,c]),Object(j.jsxs)("div",{className:"detailsContainer",children:[Object(j.jsxs)("h2",{children:[n,"(",i.substring(0,4),")"]}),Object(j.jsxs)("div",{className:"movieDetails",children:[Object(j.jsx)("div",{className:"movieDescription",children:s}),m?Object(j.jsx)(b,{videoKey:m}):Object(j.jsx)("div",{className:"moviePoster",children:Object(j.jsx)("img",{src:o+r,alt:n})})]}),Object(j.jsx)("div",{className:"actorInfoContainer",children:v&&v.map((function(e){return Object(j.jsxs)("div",{className:"actorInfo",children:[e.name,Object(j.jsx)("img",{src:e.profilePic?o+e.profilePic:"https://images.unsplash.com/photo-1616582607004-eba71ce01e07?ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&ixlib=rb-1.2.1&auto=format&fit=crop&w=639&q=80",alt:"profile"})]},e.id)}))})]})},m="25a911a025545e87f14262bf2d0f349a",O="https://api.themoviedb.org/3/discover/movie?sort=popularity.desc&api_key=".concat(m,"&page=1"),x="https://api.themoviedb.org/3/search/movie?&api_key=".concat(m,"&language=en-US&query=");var g=function(){var e=Object(a.useState)([]),t=Object(d.a)(e,2),c=t[0],n=t[1],s=Object(a.useState)(""),i=Object(d.a)(s,2),r=i[0],f=i[1],h=Object(a.useState)([]),b=Object(d.a)(h,2),g=b[0],w=b[1],y=Object(a.useState)(!1),_=Object(d.a)(y,2),N=_[0],D=_[1];function M(e){return S.apply(this,arguments)}function S(){return(S=Object(u.a)(o.a.mark((function e(t){var c,a,s;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(t);case 2:return c=e.sent,e.next=5,c.json();case 5:a=e.sent,s=a.results.filter((function(e){return e.vote_average>0})),console.log("filteredMovies",s),n(s);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(a.useEffect)((function(){M(O)}),[]),Object(a.useEffect)((function(){r.length>=3?M(x+r):M(O)}),[r]),Object(j.jsxs)("div",{className:"app",children:[Object(j.jsx)("header",{children:Object(j.jsx)("form",{children:Object(j.jsx)("input",{className:"searchBar",placeholder:"Search movies...",value:r,onChange:function(e){return f(e.target.value)}})})}),N&&Object(j.jsx)(p,{releaseDate:g.release_date,overview:g.overview,credits:g.credits,videos:g.videos,title:g.title,poster_path:g.poster_path}),Object(j.jsx)("div",{className:"movieContainer",children:c.length>0?c.map((function(e){return Object(j.jsx)(v,Object(l.a)(Object(l.a)({API_KEY:m},e),{},{setMovieData:function(e){w(e)},openModal:function(e){return function(e){e===g.id&&D((function(e){return!e}))}(e)}}),e.id)})):Object(j.jsx)("div",{children:"Sorry, no matches found."})})]})},w=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,32)).then((function(t){var c=t.getCLS,a=t.getFID,n=t.getFCP,s=t.getLCP,i=t.getTTFB;c(e),a(e),n(e),s(e),i(e)}))};i.a.render(Object(j.jsx)(n.a.StrictMode,{children:Object(j.jsx)(g,{})}),document.getElementById("root")),w()}},[[31,1,2]]]);
//# sourceMappingURL=main.9c179bd0.chunk.js.map